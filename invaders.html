<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Day in the Life of A Cybersecurity Analyst</title>
    <style>
        body {
            background-color: #000;
            color: #00ff00;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }
        #gameTitle {
            font-size: 24px;
            margin-bottom: 20px;
        }
        #gameCanvas {
            border: 1px solid #00ff00;
        }
        #restartButton, #notesLink {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #00ff00;
            color: #000;
            border: none;
            cursor: pointer;
            text-decoration: none;
            display: none;
        }
        #infoText {
            margin-top: 10px;
            font-style: italic;
            color: #ffffff;
            display: none;
        }
    </style>
</head>
<body>
    <h1 id="gameTitle">A Day in the Life of A Cybersecurity Analyst</h1>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <button id="restartButton" style="display: none;">Restart Game</button>
    <p id="infoText" style="display: none;">Or learn how to stay sane by reading</p>
    <a id="notesLink" href="https://notes.techimpossible.com" target="_blank" style="display: none;">Cybersecurity Notes</a>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const restartButton = document.getElementById('restartButton');
        const notesLink = document.getElementById('notesLink');
        const infoText = document.getElementById('infoText');

        let audioContext;
        let backgroundMusic;

        function initBackgroundMusic() {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            const baseOscillator = audioContext.createOscillator();
            baseOscillator.type = 'sawtooth';
            baseOscillator.frequency.setValueAtTime(150, audioContext.currentTime);

            const beepOscillator = audioContext.createOscillator();
            beepOscillator.type = 'sine';
            beepOscillator.frequency.setValueAtTime(1200, audioContext.currentTime);

            const baseGain = audioContext.createGain();
            baseGain.gain.setValueAtTime(0.3, audioContext.currentTime);
            const beepGain = audioContext.createGain();
            beepGain.gain.setValueAtTime(0, audioContext.currentTime);

            baseOscillator.connect(baseGain);
            beepOscillator.connect(beepGain);
            baseGain.connect(audioContext.destination);
            beepGain.connect(audioContext.destination);

            baseOscillator.start();
            beepOscillator.start();

            setInterval(() => {
                beepGain.gain.setValueAtTime(0.1, audioContext.currentTime);
                beepGain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            }, 1000);

            backgroundMusic = { baseOscillator, beepOscillator, baseGain, beepGain };
        }

        function stopBackgroundMusic() {
            if (backgroundMusic) {
                backgroundMusic.baseOscillator.stop();
                backgroundMusic.beepOscillator.stop();
            }
        }

        function initGame() {
            // Initialize game objects and state here
            if (!audioContext) {
                initBackgroundMusic();
            }
            // Hide UI elements
            restartButton.style.display = 'none';
            notesLink.style.display = 'none';
            infoText.style.display = 'none';
        }

        function gameLoop() {
            // Game logic goes here
            // When game is over:
            // stopBackgroundMusic();
            // Show UI elements
            // restartButton.style.display = 'block';
            // notesLink.style.display = 'block';
            // infoText.style.display = 'block';
        }

        restartButton.addEventListener('click', () => {
            if (!audioContext) {
                initBackgroundMusic();
            }
            initGame();
            gameLoop();
        });

        document.addEventListener('click', () => {
            if (!audioContext) {
                initBackgroundMusic();
            }
        });

        // Initial game start
        initGame();
        gameLoop();
    </script>
</body>
</html>
